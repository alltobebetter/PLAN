<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ´¾è’™çš„ç‰¹åˆ«æ—…è¡Œè®¡åˆ’è¡¨ï¼</title>
    <!-- å¼•å…¥Font Awesomeå›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- å¼•å…¥Googleå­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4299e1;
            --secondary-color: #667eea;
            --grey-color: #e2e8f0;
            --background-color: #f6f9fc;
            --text-color: #2d3748;
            --circle-size: 20px;
            --timeline-width: 4px;
            --font-family: 'ZCOOL KuaiLe', cursive;
        }

        body {
            font-family: var(--font-family);
            background: var(--background-color);
            margin: 0;
            padding: 40px;
            color: var(--text-color);
            min-height: 100vh;
        }

        .title {
            text-align: center;
            color: var(--primary-color);
            font-size: 36px;
            margin-bottom: 50px;
            position: relative;
        }

        .title i {
            margin-right: 10px;
        }

        .timeline-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* ç«–çº¿ */
        .timeline-container::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 0;
            width: var(--timeline-width);
            height: 100%;
            background: var(--grey-color);
            border-radius: 2px;
        }

        /* è¿›åº¦æ¡ */
        .timeline-progress {
            position: absolute;
            left: 50px;
            top: 0;
            width: var(--timeline-width);
            background: var(--primary-color);
            border-radius: 2px;
            height: 0;
            transition: height 0.5s ease;
        }

        /* äº‹ä»¶é¡¹ */
        .event {
            position: relative;
            margin-bottom: 50px;
            padding-left: 80px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.5s ease;
        }

        .event.active {
            opacity: 1;
            transform: translateX(0);
        }

        /* åœ†ç‚¹ */
        .event::before {
            content: '';
            position: absolute;
            left: 42px;
            top: 0;
            width: var(--circle-size);
            height: var(--circle-size);
            background: #fff;
            border: 4px solid var(--grey-color);
            border-radius: 50%;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .event.completed::before {
            border-color: var(--primary-color);
            background: var(--primary-color);
        }

        /* æ—¶é—´æ ‡ç­¾ */
        .event-time {
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .event-time i {
            margin-right: 8px;
            color: var(--primary-color);
        }

        /* äº‹ä»¶å†…å®¹ */
        .event-content {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .paimon-note {
            margin-top: 10px;
            padding: 10px;
            background: #fff5f5;
            border-left: 4px solid #fc8181;
            color: #e53e3e;
            font-style: italic;
            border-radius: 5px;
        }

        .emoji {
            margin-left: 5px;
        }

        /* è¿›åº¦ç™¾åˆ†æ¯”æ˜¾ç¤º */
        .progress-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .timeline-container::before,
            .timeline-progress {
                left: 30px;
            }

            .event {
                padding-left: 60px;
            }

            .event::before {
                left: 31px;
            }

            .progress-indicator {
                top: auto;
                bottom: 20px;
                right: 50%;
                transform: translateX(50%);
            }
        }
    </style>
</head>
<body>

    <div class="progress-indicator">
        <i class="fas fa-clock"></i>
        <span id="progress-percentage">0%</span>
    </div>

    <h1 class="title">
        <i class="fas fa-map-marked-alt"></i> æ´¾è’™çš„ç‰¹åˆ«æ—…è¡Œè®¡åˆ’è¡¨ï¼
    </h1>

    <div class="timeline-container">
        <div class="timeline-progress"></div>

        <!-- å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ -->
        <div class="event" data-time="2023-12-09 10:00">
            <div class="event-time">
                <i class="fas fa-check-circle"></i>
                12æœˆ9æ—¥ 10:00
            </div>
            <div class="event-content">
                å¼€å§‹è®¡åˆ’æˆ‘ä»¬çš„æ—…è¡Œå•¦ï¼<span class="emoji">ğŸ‰</span>
                <div class="paimon-note">
                    æ´¾è’™æé†’ï¼šè¦å¥½å¥½è§„åˆ’è·¯çº¿å“¦ï¼æˆ‘å·²ç»æŠŠåœ°å›¾éƒ½å‡†å¤‡å¥½å•¦ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-12 15:00">
            <div class="event-time">
                <i class="fas fa-check-circle"></i>
                12æœˆ12æ—¥ 15:00
            </div>
            <div class="event-content">
                è®¢å¥½äº†ç«è½¦ç¥¨ï¼<span class="emoji">ğŸš‚</span>
                <div class="paimon-note">
                    æ´¾è’™è¯´ï¼šè®°å¾—ä¸‹è½½12306 APPï¼ŒæŠŠè½¦ç¥¨éƒ½ä¿å­˜å¥½ï¼è¦è®°å¾—åŠæ—¶æŸ¥çœ‹æ˜¯å¦æœ‰å»¶è¯¯å“¦ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-15 14:00">
            <div class="event-time">
                <i class="fas fa-check-circle"></i>
                12æœˆ15æ—¥ 14:00
            </div>
            <div class="event-content">
                å‡†å¤‡ä¿æš–è¡£ç‰©ï¼<span class="emoji">ğŸ§¥</span>
                <div class="paimon-note">
                    åŒ—æ–¹å¯å†·å•¦ï¼æ´¾è’™å»ºè®®å¤šå¸¦å‡ ä»¶åšè¡£æœï¼Œè¿˜æœ‰æš–å®å®ä¹Ÿè¦å‡†å¤‡äº›ï¼
                </div>
            </div>
        </div>

        <!-- æ­£å¼è¡Œç¨‹ -->
        <div class="event" data-time="2023-12-22 12:00">
            <div class="event-time">
                <i class="fas fa-calendar-check"></i>
                12æœˆ22-23æ—¥
            </div>
            <div class="event-content">
                é‡‡è´­å¿…éœ€å“ï¼<span class="emoji">ğŸ›ï¸</span>
                <div class="paimon-note">
                    æ´¾è’™çš„è´­ç‰©æ¸…å•ï¼šé›¶é£Ÿã€è¯å“ã€å……ç”µå®...åˆ«å¿˜äº†æ£€æŸ¥è¡Œææ¸…å•ï¼Œä¸èƒ½æ¼æ‰ä»»ä½•ä¸œè¥¿ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-25 13:00">
            <div class="event-time">
                <i class="fas fa-book-open"></i>
                12æœˆ25æ—¥ 13:00
            </div>
            <div class="event-content">
                è€ƒè¯•ç»“æŸï¼<span class="emoji">ğŸ“š</span>
                <div class="paimon-note">
                    ç»ˆäºè€ƒå®Œå•¦ï¼æ´¾è’™è¦æ£€æŸ¥ä¸€ä¸‹æ‰€æœ‰å‡†å¤‡å·¥ä½œéƒ½å®Œæˆäº†æ²¡æœ‰ï½
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-25 13:30">
            <div class="event-time">
                <i class="fas fa-taxi"></i>
                12æœˆ25æ—¥ 13:30
            </div>
            <div class="event-content">
                æ‰“è½¦å»è½¦ç«™ï¼<span class="emoji">ğŸš•</span>
                <div class="paimon-note">
                    è®°å¾—æå‰æ‰“è½¦å“¦ï¼å¤§æ¦‚éœ€è¦20å—é’±ï¼Œæ´¾è’™å·²ç»å¸®ä½ ç®—å¥½å•¦ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-25 14:10">
            <div class="event-time">
                <i class="fas fa-train"></i>
                12æœˆ25æ—¥ 14:10
            </div>
            <div class="event-content">
                åˆ°è¾¾æ‹‰è¨ç«™ï¼<span class="emoji">ğŸš‰</span>
                <div class="paimon-note">
                    ä¸€å®šè¦å‡†æ—¶åˆ°ç«™ï¼æ´¾è’™ä¼šå¸®ä½ çœ‹å¥½æ—¶é—´çš„ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-25 15:00">
            <div class="event-time">
                <i class="fas fa-coffee"></i>
                12æœˆ25æ—¥ 15:00
            </div>
            <div class="event-content">
                ä¼‘æ¯æ—¶é—´ï¼<span class="emoji">â˜•</span>
                <div class="paimon-note">
                    å¯ä»¥å°æ†©ä¸€ä¸‹å•¦ï¼æ´¾è’™å»ºè®®ä¹°ç‚¹é›¶é£Ÿå’Œé¥®æ–™ï¼Œè¡¥å……èƒ½é‡ï½
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-27 08:28">
            <div class="event-time">
                <i class="fas fa-city"></i>
                12æœˆ27æ—¥ 08:28
            </div>
            <div class="event-content">
                æŠµè¾¾åŒ—äº¬è¥¿ç«™ï¼<span class="emoji">ğŸŒ†</span>
                <div class="paimon-note">
                    æ—¶é—´å¾ˆç´§å“¦ï¼æ´¾è’™å¸®ä½ è®°ä½æ¢ä¹˜è·¯çº¿ï¼š7å·çº¿â†’ç£å™¨å£ç«™â†’5å·çº¿â†’å´‡æ–‡é—¨â†’2å·çº¿å¤–ç¯â†’åŒ—äº¬ç«™ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-27 09:41">
            <div class="event-time">
                <i class="fas fa-train"></i>
                12æœˆ27æ—¥ 09:41
            </div>
            <div class="event-content">
                å‡ºå‘å»ç§¦çš‡å²›ï¼<span class="emoji">ğŸŒŠ</span>
                <div class="paimon-note">
                    è¦å‡†æ—¶ä¸Šè½¦å“¦ï¼æ´¾è’™ä¼šæå‰10åˆ†é’Ÿæé†’ä½ çš„ï¼
                </div>
            </div>
        </div>

        <div class="event" data-time="2023-12-27 13:00">
            <div class="event-time">
                <i class="fas fa-home"></i>
                12æœˆ27æ—¥ 13:00
            </div>
            <div class="event-content">
                åˆ°è¾¾ç§¦çš‡å²›ï¼<span class="emoji">ğŸ‰</span>
                <div class="paimon-note">
                    ç»ˆäºåˆ°å•¦ï¼æ´¾è’™ä¹Ÿç´¯äº†ï¼Œæˆ‘ä»¬å…ˆå»é…’åº—æ”¾è¡Œæä¼‘æ¯ä¸€ä¸‹å§ï¼
                </div>
            </div>
        </div>
    </div>

    <script>
        // è·å–æ‰€æœ‰äº‹ä»¶å…ƒç´ 
        const events = document.querySelectorAll('.event');
        const progressBar = document.querySelector('.timeline-progress');
        const progressPercentage = document.getElementById('progress-percentage');

        function updateTimeline() {
            const now = new Date();
            let totalEvents = events.length;
            let completedEvents = 0;
            let progressHeight = 0;

            events.forEach((event, index) => {
                const eventTime = new Date(event.getAttribute('data-time'));

                if (now >= eventTime) {
                    event.classList.add('active', 'completed');
                    completedEvents++;
                } else {
                    event.classList.remove('active', 'completed');
                }
            });

            // è®¡ç®—è¿›åº¦é«˜åº¦
            if (completedEvents === 0) {
                progressHeight = 0;
            } else if (completedEvents >= totalEvents) {
                progressHeight = document.querySelector('.timeline-container').clientHeight;
            } else {
                // è·å–æœ€åå®Œæˆçš„äº‹ä»¶å’Œä¸‹ä¸€ä¸ªæœªå®Œæˆçš„äº‹ä»¶
                const lastCompletedEvent = events[completedEvents - 1];
                const nextEvent = events[completedEvents];

                const lastEventPosition = lastCompletedEvent.offsetTop + lastCompletedEvent.clientHeight / 2;
                const nextEventPosition = nextEvent.offsetTop + nextEvent.clientHeight / 2;

                // å½“å‰æ—¶é—´ç›¸å¯¹äºæœ€åå®Œæˆå’Œä¸‹ä¸€ä¸ªäº‹ä»¶çš„æ—¶é—´æ¯”ä¾‹
                const lastEventTime = new Date(lastCompletedEvent.getAttribute('data-time'));
                const nextEventTime = new Date(nextEvent.getAttribute('data-time'));

                const totalDuration = nextEventTime - lastEventTime;
                const currentDuration = now - lastEventTime;
                const progressRatio = Math.min(Math.max(currentDuration / totalDuration, 0), 1);

                progressHeight = lastEventPosition + (nextEventPosition - lastEventPosition) * progressRatio;
            }

            // è®¾ç½®è¿›åº¦æ¡é«˜åº¦
            progressBar.style.height = `${progressHeight}px`;

            // è®¾ç½®è¿›åº¦ç™¾åˆ†æ¯”
            const percentage = Math.round((completedEvents / totalEvents) * 100);
            progressPercentage.textContent = `${percentage}%`;
        }

        // åŠ¨ç”»æ•ˆæœ: å½“äº‹ä»¶è¿›å…¥è§†å£æ—¶æ˜¾ç¤º
        function animateEvents() {
            const observerOptions = {
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            events.forEach(event => {
                observer.observe(event);
            });
        }

        // åˆå§‹åŒ–æ—¶é—´è½´
        function initTimeline() {
            updateTimeline();
            animateEvents();
        }

        // åœ¨é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initTimeline);

        // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡
        setInterval(updateTimeline, 60000);
    </script>
</body>
</html>
